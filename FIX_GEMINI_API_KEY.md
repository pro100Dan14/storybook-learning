# üîë –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ API –∫–ª—é—á–∞ Google Gemini

## –ü—Ä–æ–±–ª–µ–º–∞
```
"API key not valid. Please pass a valid API key."
"service": "generativelanguage.googleapis.com"
```

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `GEMINI_API_KEY`.

---

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
ssh root@162.120.18.86
cd /opt/storybook-learning
cat .env
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- ‚úÖ –ï—Å—Ç—å –ª–∏ —Å—Ç—Ä–æ–∫–∞ `GEMINI_API_KEY=...`
- ‚úÖ –ö–ª—é—á –Ω–µ –ø—É—Å—Ç–æ–π
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`
- ‚úÖ –ö–ª—é—á –Ω–µ –æ–±—Ä–µ–∑–∞–Ω

---

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API –∫–ª—é—á–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç –∏–ª–∏ –æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞: https://aistudio.google.com/apikey
2. –í–æ–π–¥–∏—Ç–µ –≤ Google –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ **Create API Key**
4. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
5. **–°–ö–û–ü–ò–†–£–ô–¢–ï –ö–õ–Æ–ß –°–†–ê–ó–£!** –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑

---

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
nano /opt/storybook-learning/.env
```

**–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞:**
```
GEMINI_API_KEY=–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_–∫–ª—é—á_–∑–¥–µ—Å—å
```

**–í–ê–ñ–ù–û:**
- –ë–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`
- –ë–µ–∑ –∫–∞–≤—ã—á–µ–∫
- –ü–æ–ª–Ω—ã–π –∫–ª—é—á (–æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AIza...`)

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
- `Ctrl + X`
- `Y` (–¥–∞)
- `Enter`

**–ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–∞:**
```bash
chmod 600 /opt/storybook-learning/.env
```

---

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
cd /opt/storybook-learning
docker compose restart backend
```

–ò–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
docker compose down
docker compose up -d
```

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
docker compose logs backend
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–æ `GEMINI_API_KEY missing`
- ‚úÖ `Using PROVIDER_TEXT=gemini model=gemini-2.5-flash`
- ‚úÖ `Using PROVIDER_IMAGE=gemini model=gemini-2.5-flash-image`

---

### –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ Lovable —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏:

```bash
curl "https://generativelanguage.googleapis.com/v1/models?key=–í–ê–®_–ö–õ–Æ–ß"
```

–ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π - –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: –ö–ª—é—á –≤ –∫–∞–≤—ã—á–∫–∞—Ö
**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
GEMINI_API_KEY="AIza..."
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
GEMINI_API_KEY=AIza...
```

### –û—à–∏–±–∫–∞ 2: –ü—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ =
**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
GEMINI_API_KEY = AIza...
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
GEMINI_API_KEY=AIza...
```

### –û—à–∏–±–∫–∞ 3: –û–±—Ä–µ–∑–∞–Ω–Ω—ã–π –∫–ª—é—á
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–ª—é—á –ø–æ–ª–Ω—ã–π (–æ–±—ã—á–Ω–æ ~39 —Å–∏–º–≤–æ–ª–æ–≤).

### –û—à–∏–±–∫–∞ 4: –°—Ç–∞—Ä—ã–π –∫–ª—é—á
–°—Ç–∞—Ä—ã–µ –∫–ª—é—á–∏ –º–æ–≥—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –Ω–∞ https://aistudio.google.com/apikey

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ docker-compose.yml

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ `docker-compose.yml`:

```yaml
environment:
  - GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
```

–ù–æ —ç—Ç–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ - –∫–ª—é—á –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –≤ —Ñ–∞–π–ª–µ.








