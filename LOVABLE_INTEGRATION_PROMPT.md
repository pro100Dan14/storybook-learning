# üîó –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Lovable: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∫–µ–Ω–¥–∞

## –ü—Ä–æ–º–ø—Ç –¥–ª—è Lovable:

```
–ú–Ω–µ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –±–µ–∫–µ–Ω–¥ API –∫ –º–æ–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é Lovable.

–î–µ—Ç–∞–ª–∏ –±–µ–∫–µ–Ω–¥–∞:
- API URL: http://162.120.18.86:8787
- –í—Å–µ API endpoints –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å /api/*
- –¢–∞–∫–∂–µ –µ—Å—Ç—å /jobs/* –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (–æ—Ç—á–µ—Ç—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)

–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:
1. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è API_BASE_URL=http://162.120.18.86:8787
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ fetch –∑–∞–ø—Ä–æ—Å—ã –∫ API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤–º–µ—Å—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∫–µ–Ω–¥ —É–∂–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å *.lovable.app)

API Endpoints –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
- GET /api/debug/config - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- POST /api/book - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–Ω–∏–≥–∏ (—Ç—Ä–µ–±—É–µ—Ç: name, theme, pages, photoBase64, photoMimeType)
- GET /jobs/:bookId/report.html - HTML –æ—Ç—á–µ—Ç –∫–Ω–∏–≥–∏
- GET /jobs/:bookId/report.json - JSON –æ—Ç—á–µ—Ç –∫–Ω–∏–≥–∏
- GET /jobs/:bookId/hero.jpg - —Ñ–æ—Ç–æ –≥–µ—Ä–æ—è

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–Ω–∏–≥–∏:
POST http://162.120.18.86:8787/api/book
Content-Type: application/json

{
  "name": "–ì–µ—Ä–æ–π",
  "theme": "–≤–æ–ª—à–µ–±–Ω—ã–π –ª–µ—Å",
  "pages": 4,
  "photoBase64": "base64_string_here",
  "photoMimeType": "image/jpeg"
}

–ù–∞–π–¥–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ –≥–¥–µ –¥–µ–ª–∞—é—Ç—Å—è fetch –∑–∞–ø—Ä–æ—Å—ã –∫ /api/* –∏ /jobs/* –∏ –∑–∞–º–µ–Ω–∏ –∏—Ö –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è API_BASE_URL.
```

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ (–µ—Å–ª–∏ Lovable —Å–ø—Ä–æ—Å–∏—Ç):

### CORS
–ë–µ–∫–µ–Ω–¥ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Ä–∞–±–æ—Ç—É —Å Lovable:
- –†–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å `https://*.lovable.app`
- –í—Å–µ endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç CORS

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤
–í—Å–µ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON:
- –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç: `{ "ok": true, ... }`
- –û—à–∏–±–∫–∞: `{ "ok": false, "error": "...", "message": "..." }`

### Health Check
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `GET http://162.120.18.86:8787/health`
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"ok":true,"requestId":"..."}`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8787
- API endpoints: `/api/*`
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã: `/jobs/:bookId/*`





